extends layout

block content
    .users-header
        h1 –°–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
        
        // –ö–Ω–æ–ø–∫–∞ "–î–æ–¥–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞" (–ø–æ–∫–∞–∑—É—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é)
        if isAuthenticated
            .user-actions.mb-3
                a.btn.btn-success(href="/register") ‚ûï –î–æ–¥–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
                
    .users-grid
        each user in users
            .user-card
                img(src=user.avatar, alt=user.name)
                h2= user.name
                p= user.position
                p.email= user.email
                
                .card-actions.mt-2
                    // –ö–Ω–æ–ø–∫–∞ "–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ"
                    a.btn.btn-info(href=`/users/${user._id}`) –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ
                    
                    // –ö–Ω–æ–ø–∫–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è (–¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö)
                    if isAuthenticated
                        // –ö–Ω–æ–ø–∫–∞ "–†–µ–¥–∞–≥—É–≤–∞—Ç–∏" (–ø—Ä–∏–ø—É—Å–∫–∞—î, —â–æ —ñ—Å–Ω—É—î –º–∞—Ä—à—Ä—É—Ç /users/edit/:id)
                        a.btn.btn-sm.btn-secondary(href=`/users/edit/${user._id}`) ‚úçÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏
                        
                        // –ö–Ω–æ–ø–∫–∞ "–í–∏–¥–∞–ª–∏—Ç–∏" (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ñ–æ—Ä–º—É –¥–ª—è POST-–∑–∞–ø–∏—Ç—É)
                         form.d-inline(action=`/users/delete/${user._id}`, method="POST", onsubmit=`return confirm('–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ ${user.name}?');`)
                        button.btn.btn-sm.btn-danger(type="submit") üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏