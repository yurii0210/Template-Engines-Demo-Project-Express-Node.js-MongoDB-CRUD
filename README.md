# üöÄ Template Engines Demo Project (Express, Node.js, MongoDB)

–¶–µ–π –ø—Ä–æ—î–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è **—Ä—ñ–∑–Ω–∏—Ö —à–∞–±–ª–æ–Ω—ñ–∑–∞—Ç–æ—Ä—ñ–≤** ‚Äî **Pug** —Ç–∞ **EJS** ‚Äî –≤ –æ–¥–Ω–æ–º—É Express-–¥–æ–¥–∞—Ç–∫—É.
–Ü–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π —ñ–∑ **MongoDB Atlas** —á–µ—Ä–µ–∑ Mongoose, –≤—ñ–Ω —Ä–µ–∞–ª—ñ–∑—É—î –ø–æ–≤–Ω–∏–π —Ü–∏–∫–ª **–∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤** (—á–µ—Ä–µ–∑ Passport.js) —ñ –º—ñ—Å—Ç–∏—Ç—å **—Ä–æ–∑—à–∏—Ä–µ–Ω—ñ CRUD-–æ–ø–µ—Ä–∞—Ü—ñ—ó** –¥–ª—è API.

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

* **–°–µ—Ä–≤–µ—Ä:** Node.js, Express
* **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:** MongoDB Atlas (—á–µ—Ä–µ–∑ Mongoose)
* **–®–∞–±–ª–æ–Ω—ñ–∑–∞—Ç–æ—Ä–∏:** Pug, EJS
* **–ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è:** Passport.js (Local Strategy), bcryptjs

---

## ‚ú® –û—Å–Ω–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

### 1. –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

* **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –≤—Ö—ñ–¥** ‚Äî —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω—É —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó.
* **–ó–∞—Ö–∏—â–µ–Ω—ñ –º–∞—Ä—à—Ä—É—Ç–∏** ‚Äî middleware `isAuthenticated` –æ–±–º–µ–∂—É—î –¥–æ—Å—Ç—É–ø –¥–æ CRUD.
* **–í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:**
  `POST /users/delete/:userId` ‚Üí `User.findByIdAndDelete(userId)`

---

### 2. –ö–µ—Ä—É–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç—Ç—è–º–∏ (Articles CRUD)

* **–î–æ–¥–∞–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç–µ–π:** —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É (Pug).
* **–ü–µ—Ä–µ–≥–ª—è–¥ —Å–ø–∏—Å–∫—É —Ç–∞ –¥–µ—Ç–∞–ª–µ–π:** —á–µ—Ä–µ–∑ —à–∞–±–ª–æ–Ω–∏ EJS.

---

## üî¨ –†–æ–∑—à–∏—Ä–µ–Ω–∏–π CRUD API –¥–ª—è `TestItem` (`/db-ops`)

–£—Å—ñ –º–∞—Ä—à—Ä—É—Ç–∏ CRUD —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —á–µ—Ä–µ–∑ **Mongoose** —ñ **–∑–∞—Ö–∏—â–µ–Ω—ñ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é**.
–ö–æ–ª–µ–∫—Ü—ñ—è: `TestItem`

---

### üß© 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è (Create)

| –ú–µ—Ç–æ–¥    | –ú–∞—Ä—à—Ä—É—Ç               | –û–ø–∏—Å                                | Mongoose                     |
| :------- | :-------------------- | :---------------------------------- | :--------------------------- |
| **POST** | `/db-ops/insert-one`  | –î–æ–¥–∞–≤–∞–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞          | `new TestItem(data).save()`  |
| **POST** | `/db-ops/insert-many` | –ü–∞–∫–µ—Ç–Ω–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –º–∞—Å–∏–≤—É –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ | `TestItem.insertMany(items)` |

#### üìù –ü—Ä–∏–∫–ª–∞–¥ (POST `/db-ops/insert-one`)

**–¢—ñ–ª–æ –∑–∞–ø–∏—Ç—É:**

```json
{
  "name": "Test Item",
  "value": 42
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (201 Created):**

```json
{
  "message": "insertOne: –î–æ–∫—É–º–µ–Ω—Ç —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–æ",
  "data": { "_id": "...", "name": "Test Item", "value": 42, "category": "Demo" }
}
```

---

### üß© 2. –û–Ω–æ–≤–ª–µ–Ω–Ω—è (Update)

| –ú–µ—Ç–æ–¥   | –ú–∞—Ä—à—Ä—É—Ç                   | –û–ø–∏—Å                                       | Mongoose                                      |
| :------ | :------------------------ | :----------------------------------------- | :-------------------------------------------- |
| **PUT** | `/db-ops/update-one/:id`  | –ß–∞—Å—Ç–∫–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ ($set) | `TestItem.updateOne({_id: id}, {$set: data})` |
| **PUT** | `/db-ops/update-many`     | –ú–∞—Å–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é  | `TestItem.updateMany(filter, {$set: data})`   |
| **PUT** | `/db-ops/replace-one/:id` | –ü–æ–≤–Ω–∞ –∑–∞–º—ñ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞                     | `TestItem.replaceOne({_id: id}, newData)`     |

#### üìù –ü—Ä–∏–∫–ª–∞–¥ (PUT `/db-ops/update-one/{{id}}`)

**–¢—ñ–ª–æ –∑–∞–ø–∏—Ç—É:**

```json
{
  "value": 999
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK):**

```json
{
  "message": "updateOne: –î–æ–∫—É–º–µ–Ω—Ç –æ–Ω–æ–≤–ª–µ–Ω–æ",
  "result": { "modifiedCount": 1, "matchedCount": 1 }
}
```

---

### üß© 3. –í–∏–¥–∞–ª–µ–Ω–Ω—è (Delete)

| –ú–µ—Ç–æ–¥      | –ú–∞—Ä—à—Ä—É—Ç                  | –û–ø–∏—Å                                      | Mongoose                        |
| :--------- | :----------------------- | :---------------------------------------- | :------------------------------ |
| **DELETE** | `/db-ops/delete-one/:id` | –í–∏–¥–∞–ª–µ–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∑–∞ ID          | `TestItem.deleteOne({_id: id})` |
| **DELETE** | `/db-ops/delete-many`    | –í–∏–¥–∞–ª–µ–Ω–Ω—è –±–∞–≥–∞—Ç—å–æ—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –∑–∞ —Ñ—ñ–ª—å—Ç—Ä–æ–º | `TestItem.deleteMany(filter)`   |

#### üìù –ü—Ä–∏–∫–ª–∞–¥ (DELETE `/db-ops/delete-many`)

**–¢—ñ–ª–æ –∑–∞–ø–∏—Ç—É:**

```json
{
  "category": "Batch"
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK):**

```json
{
  "message": "deleteMany: –í–∏–¥–∞–ª–µ–Ω–æ N –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤",
  "result": { "deletedCount": N }
}
```

---

### üß© 4. –†–æ–∑—à–∏—Ä–µ–Ω–µ —á–∏—Ç–∞–Ω–Ω—è (Read)

| –ú–µ—Ç–æ–¥   | –ú–∞—Ä—à—Ä—É—Ç                        | –û–ø–∏—Å                                                  | Mongoose                                           |
| :------ | :----------------------------- | :---------------------------------------------------- | :------------------------------------------------- |
| **GET** | `/db-ops/find-with-projection` | –í–∏–±—ñ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –∑ –ø—Ä–æ–µ–∫—Ü—ñ—î—é (–ª–∏—à–µ `name`, `value`) | `TestItem.find({}, { name: 1, value: 1, _id: 0 })` |

#### üìù –ü—Ä–∏–∫–ª–∞–¥ (GET `/db-ops/find-with-projection`)

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK):**

```json
{
  "message": "find (–∑ –ø—Ä–æ–µ–∫—Ü—ñ—î—é): –£—Å–ø—ñ—à–Ω–æ",
  "data": [
    { "name": "Item A", "value": 100 },
    { "name": "Item B", "value": 200 }
  ]
}
```

---

## ‚öôÔ∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

### üìã –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

* Node.js (v18+)
* –û–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å MongoDB Atlas (–∞–±–æ –ª–æ–∫–∞–ª—å–Ω–∏–π MongoDB)

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –∑–º—ñ–Ω–Ω–∞ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ `MONGO_URI` (–∞–±–æ URI —É `server.js`) –≤–∫–∞–∑—É—î –Ω–∞ –≤–∞—à—É –±–∞–∑—É –¥–∞–Ω–∏—Ö.

```bash
node server.js
```

> –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞: **[http://localhost:3001](http://localhost:3001)**

### 3. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API (Postman / Thunder Client)

1. **–í—Ö—ñ–¥:**
   –í–∏–∫–æ–Ω–∞–π—Ç–µ `POST http://localhost:3001/login` (—Ñ–æ—Ä–º–∞—Ç `x-www-form-urlencoded` –∑ –≤–∞—à–∏–º–∏ –æ–±–ª—ñ–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏).
   –û—Ç—Ä–∏–º–∞–π—Ç–µ **—Å–µ—Å—ñ–π–Ω—É cookie**.

2. **CRUD-–æ–ø–µ—Ä–∞—Ü—ñ—ó:**
   –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ cookie –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ `/db-ops/*` –º–∞—Ä—à—Ä—É—Ç—ñ–≤ –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–º JSON-—Ç—ñ–ª–æ–º.

---

## üß† –ê–≤—Ç–æ—Ä

**Yurii Zvirianskyj**
Full Stack JS Developer
üì¶ GitHub: [yurii0210](https://github.com/yurii0210)
